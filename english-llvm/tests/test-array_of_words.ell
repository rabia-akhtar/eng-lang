int test2(string a, int words){

  int i;
  int len = strlen(a);
  int start = 0;
  string x;
  string b;
  string temp;
  string [] word_s = [""];
  int j;
  int w = 0;
  int indice =0;
  int present = 0;
  int k;  
  int h;

/* iterate through string by character */
  for(i = 0; i<len; i++){
    temp = calloc(30,1);
    x = string_at(a,i,30, 1);
    /* if end of word, build previous word */
    if(strcmp(x, " ") == 0){
      j = start;
      for(; j < i; j++){
        b = string_at(a,j, 30, 1);
        strcat(temp, b);
        free(b);
      }
      /* put word in array */
      word_s [indice] = calloc(30, 1);
      strcpy(word_s{|indice|}, temp);
      indice++;   
      start = i+1;
    }
    free(x); 
  }
    /* print array of words*/
    for(h = 0; h < indice; h++){
      print_string("index");
      print_string(word_s{|h|});
      print(h);
      free(word_s{|h|});
    }
    free(temp);   
    return 0;
}

int main() {
  string [] test;
  int i;
  string g = "emilyy this here is a WORKING TEST now";
  i = word_count(g);
  test2(g, i);
  return 0;
}